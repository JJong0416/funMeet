<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/config :: config"></head>
<body>
<div th:replace="fragments/header :: main_nav"></div>

<div class="container">
  <div class="row my-3 mx-3 justify-content-center">
    <div class="col-10 px-0 row">
      <div class="col-2 px-0">
        <ul class="list-group">
          <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            새 모임
            <span th:text="${newMeetings.size()}">2</span>
          </a>
          <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            지난 모임
            <span th:text="${oldMeetings.size()}">5</span>
          </a>
        </ul>
      </div>
      <div class="col-10 row row-cols-1 row-cols-md-2">
        <div th:if="${newMeetings.size() == 0}" class="col">
          새 모임이 없습니다.
        </div>
        <div class="col mb-4 pr-0" th:each="meeting: ${newMeetings}">
          <div class="card">
            <div class="card-header">
              <span th:text="${meeting.title}">title</span>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <i class="fa fa-calendar"></i>
                <span class="calendar" th:text="${meeting.startDateTime}"></span> 모임 시작
              </li>
              <li class="list-group-item">
                <span th:if="${meeting.limitOfEnrollments != 0}">
                                    <span th:text="${meeting.limitOfEnrollments}"></span>명 모집 중
                                    (<span th:text="${meeting.numberOfRemain()}"></span> 자리 남음)
                                </span>
              </li>
              <li class="list-group-item">
                <a href="#" th:href="@{'/club/' + ${club.clubPath} + '/meeting/' + ${meeting.id}}" class="card-link">자세히 보기</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-10 px-0 row">
      <div class="col-2"></div>
      <div class="col-10">
        <table th:if="${oldMeetings.size() > 0}" class="table table-hover">
          <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">지난 모임 이름</th>
            <th scope="col">모임 종료</th>
            <th scope="col"></th>
          </tr>
          </thead>
          <tbody th:each="meeting: ${oldMeetings}">
          <tr>
            <th scope="row" th:text="${meetingStat.count}">1</th>
            <td th:text="${meeting.title}">Title</td>
            <td>
              <span class="date-weekday-time" th:text="${meeting.endDateTime}"></span>
            </td>
            <td>
              <a th:href="@{'/club/' + ${club.clubPath} + '/meeting/' + ${meeting.id}}" class="card-link">자세히 보기</a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script th:replace="fragments/script:: tooltip"></script>
<script th:replace="fragments/script :: time_script"></script>
<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
